<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TPC Mobile Load Balance Tracker</title>
    <style>
        :root {
            --primary-color: #1a73e8;
            --secondary-color: #e8f0fe;
            --success-color: #34a853;
            --error-color: #d93025;
            --border-color: #dadce0;
            --text-primary: #202124;
            --text-secondary: #5f6368;
            --background-main: #f0f2f5;
            --card-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: var(--background-main);
            padding: 10px;
            max-width: 100%;
            margin: 0 auto;
            min-height: 100vh;
        }

        .container {
            background: white;
            border-radius: 15px;
            padding: 15px;
            box-shadow: var(--card-shadow);
            margin-bottom: 15px;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        h1, h2 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.5rem;
            text-align: center;
        }

        .balance-section {
            background: var(--secondary-color);
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 20px;
            text-align: center;
        }

        .balance {
            font-size: 2rem;
            color: var(--primary-color);
            font-weight: bold;
            margin: 10px 0;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 6px;
            color: var(--text-secondary);
            font-size: 0.9rem;
            font-weight: 500;
        }

        input, select {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            background: white;
            margin-bottom: 8px;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(26,115,232,0.2);
        }

        .regular-load-input {
            display: none;
            margin-top: 10px;
        }

        .code-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        .code-item {
            background: var(--secondary-color);
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .code-item:active {
            background-color: #d0e1fd;
        }

        .code-header {
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 4px;
        }

        .code-details {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        button {
            width: 100%;
            padding: 12px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            margin-bottom: 15px;
            transition: background-color 0.2s;
        }

        button:active {
            background: #1557b0;
        }

        .transaction-item {
            padding: 15px;
            border-bottom: 1px solid var(--border-color);
            font-size: 0.9rem;
        }

        .transaction-main {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        .transaction-info {
            flex-grow: 1;
        }

        .transaction-amount {
            text-align: right;
            font-weight: 500;
        }

        .transaction-date {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .status-tag {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            margin-top: 5px;
        }

        .status-paid {
            background: #e6f4ea;
            color: var(--success-color);
        }

        .status-borrowed {
            background: #fce8e6;
            color: var(--error-color);
        }

        .notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 12px 20px;
            border-radius: 12px;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            z-index: 1000;
            font-size: 0.9rem;
            max-width: 90%;
            text-align: center;
            animation: slideUp 0.3s ease-out;
        }

        .earnings-input {
            width: 100%;
            padding: 8px;
            margin: 10px 0;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 0.9rem;
        }

        .offline-indicator {
            position: fixed;
            top: 10px;
            right: 10px;
            padding: 6px 12px;
            border-radius: 15px;
            background: rgba(0,0,0,0.8);
            color: white;
            font-size: 0.8rem;
            z-index: 1000;
        }

        @keyframes slideUp {
            from {
                transform: translate(-50%, 100%);
                opacity: 0;
            }
            to {
                transform: translate(-50%, 0);
                opacity: 1;
            }
        }

        @media (max-width: 360px) {
            .code-grid {
                grid-template-columns: 1fr;
            }
            
            .balance {
                font-size: 1.75rem;
            }
            
            button {
                padding: 10px;
                font-size: 0.9rem;
            }
        }
        .modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.5);
    z-index: 1000;
    animation: fadeIn 0.3s ease-out;
}

.modal-content {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: white;
    padding: 20px;
    border-radius: 12px;
    width: 90%;
    max-width: 350px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.modal h3 {
    margin-bottom: 15px;
    color: var(--text-primary);
}

.modal-buttons {
    display: flex;
    gap: 10px;
    margin-top: 20px;
}

.modal-buttons button {
    flex: 1;
    margin: 0;
}

.confirm-btn {
    background-color: var(--error-color) !important;
}

.cancel-btn {
    background-color: var(--text-secondary) !important;
}

.error-input {
    border-color: var(--error-color) !important;
    background-color: rgba(217, 48, 37, 0.05) !important;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.required-field::after {
    content: " *";
    color: var(--error-color);
}
.code-item {
    background: var(--secondary-color);
    padding: 12px;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.2s;
}

.code-item.selected {
    background-color: #e6f4ea;
    border: 2px solid #34a853;
}

.code-item:active {
    background-color: #d0e1fd;
}
    </style>
</head>
<body>
    <div id="offlineIndicator" class="offline-indicator">Online</div>
    
    <div class="container">
        <h1>TPC Load Balance Tracker</h1>
        
        <div class="balance-section">
            <label>Current Balance</label>
            <div class="balance" id="currentBalance">â‚±0.00</div>
        </div>

        <div class="form-group">
            <label>Set Initial Balance</label>
            <input type="number" id="initialBalance" placeholder="Enter initial balance" inputmode="decimal">
            <button onclick="setInitialBalance()">Set Balance</button>
        </div>

        <div class="form-group">
            <label>Service Type</label>
            <select id="serviceType" onchange="updateProviders()">
                <option value="">Select Service Type</option>
                <option value="mobile">Mobile Networks</option>
                <option value="wifi">Prepaid WiFi</option>
                <option value="cable">TV Cable</option>
                <option value="games">Game Top Up</option>
                <option value="subscription">Subscription</option>
            </select>
        </div>

        <div class="form-group">
            <label>Provider</label>
            <select id="provider" onchange="updateCodes()">
                <option value="">Select Provider First</option>
            </select>
        </div>

        <div id="regularLoadInput" class="regular-load-input">
            <label>Regular Load Amount</label>
            <input type="number" id="customAmount" placeholder="Enter load amount" inputmode="decimal">
        </div>

        <div id="codesGrid" class="code-grid"></div>

        <div class="form-group">
            <label>Buyer Name</label>
            <input type="text" id="buyerName" placeholder="Enter buyer name">
        </div>

        <div class="form-group">
            <label>Transaction Type</label>
            <select id="transactionType">
                <option value="paid">Paid</option>
                <option value="borrowed">Borrowed</option>
            </select>
        </div>

        <button onclick="addTransaction()">Add Transaction</button>
        <button onclick="confirmReset()" style="background-color: #d93025">Reset Balance</button>

        <div id="transactionsList"></div>
    </div>

    <div class="container">
        <h2>Transaction History</h2>
        <div id="transactionHistory"></div>
    </div>

    <div id="resetModal" class="modal">
        <div class="modal-content">
            <h3>Reset Balance</h3>
            <p>Are you sure you want to reset the balance? This will move all current transactions to history.</p>
            <div class="form-group">
                <label>Batch Earnings:</label>
                <input type="number" id="batchEarnings" placeholder="Enter earnings (optional)" inputmode="decimal">
            </div>
            <div class="modal-buttons">
                <button onclick="confirmResetBalance()" class="confirm-btn">Reset Balance</button>
                <button onclick="closeResetModal()" class="cancel-btn">Cancel</button>
            </div>
        </div>
    </div>
    <script>
        // Service data structure
        const serviceData = {
            mobile: {
                name: 'Mobile Networks',
                providers: {
                    globe: {
                        name: 'Globe',
                        allowRegularLoad: true,
                        codes: [
                            { code: 'GLOBE15', amount: 15, description: 'Regular Load', validity: '1 day' },
                            { code: 'GLOBE50', amount: 50, description: 'Regular Load', validity: '3 days' },
                            { code: 'GO50', amount: 50, description: '5GB Data', validity: '3 days' }
                        ]
                    },
                    smart: {
                        name: 'Smart',
                        allowRegularLoad: true,
                        codes: [
                            { code: 'SMART15', amount: 15, description: 'Regular Load', validity: '1 day' },
                            { code: 'SMART50', amount: 50, description: 'Regular Load', validity: '3 days' },
                            { code: 'GIGA50', amount: 50, description: '5GB Data', validity: '3 days' }
                        ]
                    }
                }
            },
            // ... [Other service types remain the same]
        };

        let currentBalance = 0;
        let transactions = [];
        let historicalTransactions = [];

        function showNotification(message, duration = 3000) {
            const existingNotification = document.querySelector('.notification');
            if (existingNotification) {
                existingNotification.remove();
            }

            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.remove();
            }, duration);
        }

        function updateProviders() {
            const serviceType = document.getElementById('serviceType').value;
            const providerSelect = document.getElementById('provider');
            const regularLoadInput = document.getElementById('regularLoadInput');
            
            providerSelect.innerHTML = '<option value="">Select Provider</option>';
            regularLoadInput.style.display = 'none';
            
            if (serviceType && serviceData[serviceType]) {
                const providers = serviceData[serviceType].providers;
                Object.keys(providers).forEach(key => {
                    const option = document.createElement('option');
                    option.value = key;
                    option.textContent = providers[key].name;
                    providerSelect.appendChild(option);
                });
            }
            
            document.getElementById('codesGrid').innerHTML = '';
        }

        function updateCodes() {
    selectedCode = null;  // Reset selected code
    const serviceType = document.getElementById('serviceType').value;
    const provider = document.getElementById('provider').value;
    const codesGrid = document.getElementById('codesGrid');
    const regularLoadInput = document.getElementById('regularLoadInput');
    
    codesGrid.innerHTML = '';
    
    if (serviceType && provider && serviceData[serviceType].providers[provider]) {
        const providerData = serviceData[serviceType].providers[provider];
        
        if (providerData.allowRegularLoad) {
            regularLoadInput.style.display = 'block';
            document.getElementById('customAmount').value = ''; // Clear custom amount
        } else {
            regularLoadInput.style.display = 'none';
        }

        providerData.codes.forEach(code => {
            const codeElement = document.createElement('div');
            codeElement.className = 'code-item';
            codeElement.onclick = (event) => selectCode(code, event);
            codeElement.innerHTML = `
                <div class="code-header">${code.code}</div>
                <div class="code-details">
                    â‚±${code.amount} - ${code.description}<br>
                    Valid for ${code.validity}
                </div>
            `;
            codesGrid.appendChild(codeElement);
        });
    }
}

function selectCode(codeData, event) {
    selectedCode = codeData;  // Store the selected code data
    
    // Remove selected class from all code items
    const allCodeItems = document.querySelectorAll('.code-item');
    allCodeItems.forEach(item => item.classList.remove('selected'));
    
    // Add selected class to clicked item
    const clickedItem = event.currentTarget;
    clickedItem.classList.add('selected');
    
    // Clear the custom amount input when a code is selected
    document.getElementById('customAmount').value = '';
}
let selectedCode = null;

function addTransaction() {
    const buyerName = document.getElementById('buyerName').value.trim();
    const serviceType = document.getElementById('serviceType').value;
    const provider = document.getElementById('provider').value;
    const customAmount = document.getElementById('customAmount').value;
    const transactionType = document.getElementById('transactionType').value;
    
    // Reset error states
    document.getElementById('buyerName').classList.remove('error-input');
    document.getElementById('serviceType').classList.remove('error-input');
    document.getElementById('provider').classList.remove('error-input');
    document.getElementById('customAmount').classList.remove('error-input');

    // Validation checks
    let isValid = true;
    let errorMessage = '';

    if (!buyerName) {
        document.getElementById('buyerName').classList.add('error-input');
        errorMessage = 'Please enter buyer name';
        isValid = false;
    }

    if (!serviceType) {
        document.getElementById('serviceType').classList.add('error-input');
        errorMessage = errorMessage || 'Please select service type';
        isValid = false;
    }

    if (!provider) {
        document.getElementById('provider').classList.add('error-input');
        errorMessage = errorMessage || 'Please select provider';
        isValid = false;
    }

    // Determine the amount based on whether a code is selected or custom amount is entered
    let amount;
    if (selectedCode) {
        amount = selectedCode.amount;
    } else {
        amount = parseFloat(customAmount);
        if (isNaN(amount) || amount <= 0) {
            document.getElementById('customAmount').classList.add('error-input');
            errorMessage = errorMessage || 'Please enter a valid amount or select a code';
            isValid = false;
        }
    }

    if (!isValid) {
        showNotification(errorMessage);
        return;
    }

    // Calculate 1% return
    const returnAmount = roundToTwoDecimals(amount * 0.01);

    const transaction = {
        buyerName,
        amount,
        type: transactionType,
        date: new Date().toLocaleString(),
        remainingAmount: transactionType === 'borrowed' ? amount : 0,
        payments: [],
        returnAmount: returnAmount,
        code: selectedCode ? selectedCode.code : 'Regular Load' // Store the code used if any
    };

    if (transactionType === 'paid') {
        transaction.fullyPaidDate = new Date().toLocaleString();
    }

    transactions.push(transaction);
    currentBalance = roundToTwoDecimals(currentBalance - amount + returnAmount);
    
    // Reset selected code after transaction
    selectedCode = null;
    const allCodeItems = document.querySelectorAll('.code-item');
    allCodeItems.forEach(item => item.classList.remove('selected'));
    document.getElementById('customAmount').value = '';
    
    updateBalanceDisplay();
    updateTransactionsList();
    saveData();
    showNotification(`Transaction added with ${formatCurrency(returnAmount)} (1%) return`);
}
function confirmReset() {
    if (transactions.length === 0) {
        showNotification('No transactions to reset');
        return;
    }
    document.getElementById('resetModal').style.display = 'block';
}
function closeResetModal() {
    document.getElementById('resetModal').style.display = 'none';
    document.getElementById('batchEarnings').value = '';
}

function confirmResetBalance() {
    const earnings = parseFloat(document.getElementById('batchEarnings').value) || 0;
    
    const historyGroup = {
        date: new Date().toLocaleString(),
        initialBalance: currentBalance + transactions.reduce((sum, t) => sum + t.amount, 0),
        finalBalance: currentBalance,
        earnings: earnings,
        transactions: [...transactions],
        hasUnpaidBalance: transactions.some(t => t.type === 'borrowed' && t.remainingAmount > 0)
    };
    
    historicalTransactions.unshift(historyGroup);
    transactions = [];
    currentBalance = 0;
    
    updateBalanceDisplay();
    updateTransactionsList();
    updateTransactionHistory();
    saveData();
    
    closeResetModal();
    showNotification('Balance reset successfully with earnings recorded');
}

        function confirmReset() {
            if (transactions.length === 0) {
                showNotification('No transactions to reset');
                return;
            }

            const confirmed = confirm('Are you sure you want to reset the balance? This will move all current transactions to history.');
            if (confirmed) {
                const earningsInput = prompt('Enter earnings for this batch (optional):', '0');
                const earnings = parseFloat(earningsInput) || 0;
                
                const historyGroup = {
                    date: new Date().toLocaleString(),
                    initialBalance: currentBalance + transactions.reduce((sum, t) => sum + t.amount, 0),
                    finalBalance: currentBalance,
                    earnings: earnings,
                    transactions: [...transactions],
                    hasUnpaidBalance: transactions.some(t => t.type === 'borrowed' && t.remainingAmount > 0)
                };
                
                historicalTransactions.unshift(historyGroup);
                transactions = [];
                currentBalance = 0;
                
                updateBalanceDisplay();
                updateTransactionsList();
                updateTransactionHistory();
                saveData();
                
                showNotification('Balance reset successfully with earnings recorded');
            }
        }

        function roundToTwoDecimals(number) {
            return Math.round(number * 100) / 100;
        }

        function formatCurrency(amount) {
            return 'â‚±' + amount.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }

        function updateBalanceDisplay() {
            document.getElementById('currentBalance').textContent = formatCurrency(currentBalance);
        }

        function setInitialBalance() {
            const initialBalanceInput = document.getElementById('initialBalance');
            const amount = parseFloat(initialBalanceInput.value);
            
            if (isNaN(amount) || amount < 0) {
                showNotification('Please enter a valid amount');
                return;
            }

            currentBalance = roundToTwoDecimals(amount);
            updateBalanceDisplay();
            initialBalanceInput.value = '';
            saveData();
            showNotification('Initial balance set successfully');
        }

        function markAsPaid(index) {
            const transaction = transactions[index];
            if (!transaction) return;

            const confirmed = confirm('Mark this transaction as paid?');
            if (confirmed) {
                transaction.type = 'paid';
                transaction.fullyPaidDate = new Date().toLocaleString();
                transaction.remainingAmount = 0;
                transaction.payments.push({
                    amount: transaction.amount,
                    date: new Date().toLocaleString()
                });

                updateTransactionsList();
                saveData();
                showNotification('Transaction marked as paid');
            }
        }

        function updateTransactionsList() {
            const transactionsList = document.getElementById('transactionsList');
            
            if (transactions.length === 0) {
                transactionsList.innerHTML = '<div style="text-align: center; padding: 20px; color: var(--text-secondary);">No transactions yet</div>';
                return;
            }

            transactionsList.innerHTML = transactions.map((transaction, index) => `
                <div class="transaction-item">
                    <div class="transaction-main">
                        <div class="transaction-info">
                            <div style="font-weight: 500;">${transaction.buyerName}</div>
                            <div class="transaction-date">${transaction.date}</div>
                        </div>
                        <div class="transaction-amount">
                            ${formatCurrency(transaction.amount)}
                        </div>
                    </div>
                    <div class="status-tag ${transaction.type === 'paid' ? 'status-paid' : 'status-borrowed'}">
                        ${transaction.type === 'paid' ? 
                            `Paid ${transaction.fullyPaidDate ? `on ${transaction.fullyPaidDate}` : ''}` : 
                            `Borrowed - Remaining: ${formatCurrency(transaction.remainingAmount)}`}
                    </div>
                    ${transaction.type === 'borrowed' ? `
                        <button style="margin-top: 8px;" onclick="markAsPaid(${index})">Mark as Paid</button>
                    ` : ''}
                </div>
            `).join('');
        }

        function updateTransactionHistory() {
            const historyContainer = document.getElementById('transactionHistory');
            
            if (historicalTransactions.length === 0) {
                historyContainer.innerHTML = '<div style="text-align: center; padding: 20px; color: var(--text-secondary);">No history yet</div>';
                return;
            }

            historyContainer.innerHTML = historicalTransactions.map((group, groupIndex) => `
                <div style="background: var(--secondary-color); padding: 15px; border-radius: 12px; margin-bottom: 15px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                        <div style="font-weight: 500;">Session: ${group.date}</div>
                        <button onclick="deleteHistoryBatch(${groupIndex})" style="width: auto; padding: 6px 12px; background: var(--error-color);">
                            Delete
                        </button>
                    </div>
                    <div style="margin-bottom: 8px;">Initial Balance: ${formatCurrency(group.initialBalance)}</div>
                    <div style="margin-bottom: 8px;">Final Balance: ${formatCurrency(group.finalBalance)}</div>
                    <div style="margin-bottom: 8px;">Earnings: ${formatCurrency(group.earnings)}</div>
                    ${group.hasUnpaidBalance ? 
                        '<div style="color: var(--error-color); margin-bottom: 8px;">Has unpaid transactions!</div>' : ''}
                    
                    <div style="margin-top: 15px;">
                        ${group.transactions.map(transaction => `
                            <div class="transaction-item" style="background: white; border-radius: 8px; margin-bottom: 8px;">
                                <div class="transaction-main">
                                    <div class="transaction-info">
                                        <div>${transaction.buyerName}</div>
                                        <div class="transaction-date">${transaction.date}</div>
                                    </div>
                                    <div class="transaction-amount">
                                        ${formatCurrency(transaction.amount)}
                                    </div>
                                </div>
                                <div class="status-tag ${transaction.type === 'paid' ? 'status-paid' : 'status-borrowed'}">
                                    ${transaction.type === 'paid' ? 
                                        `Paid ${transaction.fullyPaidDate ? `on ${transaction.fullyPaidDate}` : ''}` : 
                                        `Borrowed - Remaining: ${formatCurrency(transaction.remainingAmount)}`}
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        function deleteHistoryBatch(index) {
            const confirmed = confirm('Are you sure you want to delete this batch? This action cannot be undone.');
            if (confirmed) {
                historicalTransactions.splice(index, 1);
                updateTransactionHistory();
                saveData();
                showNotification('Batch deleted successfully');
            }
        }

        function saveData() {
            try {
                const data = {
                    currentBalance,
                    transactions,
                    historicalTransactions
                };
                localStorage.setItem('mobileBalanceTrackerData', JSON.stringify(data));
            } catch (error) {
                console.error('Error saving data:', error);
                showNotification('Error saving data');
            }
        }

        function loadData() {
            try {
                const savedData = localStorage.getItem('mobileBalanceTrackerData');
                if (savedData) {
                    const data = JSON.parse(savedData);
                    currentBalance = data.currentBalance || 0;
                    transactions = data.transactions || [];
                    historicalTransactions = data.historicalTransactions || [];
                    
                    updateBalanceDisplay();
                    updateTransactionsList();
                    updateTransactionHistory();
                }
            } catch (error) {
                console.error('Error loading data:', error);
                showNotification('Error loading saved data');
                currentBalance = 0;
                transactions = [];
                historicalTransactions = [];
            }
        }

        function updateOnlineStatus() {
            const indicator = document.getElementById('offlineIndicator');
            if (navigator.onLine) {
                indicator.textContent = 'Online';
                indicator.style.backgroundColor = 'rgba(52, 168, 83, 0.9)';
            } else {
                indicator.textContent = 'Offline (App Working)';
                indicator.style.backgroundColor = 'rgba(217, 48, 37, 0.9)';
            }
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            updateOnlineStatus();
            
            window.addEventListener('online', updateOnlineStatus);
            window.addEventListener('offline', updateOnlineStatus);
            
            const styleSheet = document.createElement("style");
    styleSheet.textContent = newStyle;
    document.head.appendChild(styleSheet);

            // Handle service worker for offline functionality
            if ('serviceWorker' in navigator) {
    const requiredLabels = document.querySelectorAll('label[for="buyerName"], label[for="serviceType"], label[for="provider"], label[for="customAmount"]');
    requiredLabels.forEach(label => label.classList.add('required-field'));
    
    navigator.serviceWorker.register('/sw.js').catch(function(error) {
        console.error('Service Worker registration failed:', error);
    });
}
        });
    </script>
</body>
</html>
